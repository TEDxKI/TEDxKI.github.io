<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>WATCH — TEDxKI</title>
  <link rel="icon" type="image/png" href="/assets/logos/favicon.png"/>

  <!-- Theme bootstrap (match index.html) -->
  <script>
    (function(){
      try {
        var saved = localStorage.getItem('site-theme');
        if (saved === 'dark') {
          document.documentElement.setAttribute('data-theme','dark');
        } else if (saved === 'light') {
          document.documentElement.removeAttribute('data-theme');
        } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.documentElement.setAttribute('data-theme','dark');
        } else {
          document.documentElement.removeAttribute('data-theme');
        }
      } catch (e) {}
    })();
  </script>

  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="/sites/watch/watch.css" />

  <script defer src="/partials/includes.js"></script>
  <script defer src="/app.js"></script>
  <script id="video-data" type="application/json"></script>
  <script defer src="/sites/watch/watch.js"></script>
</head>
<body>

  <site-header></site-header>

  <social-strip></social-strip>

  <newsletter-popup></newsletter-popup>

  <main>
    <section id="watch-hero" class="watch-hero">
      <video id="supercut" class="supercut-video" autoplay muted loop playsinline webkit-playsinline preload="auto" poster="/assets/images/supercut-poster.jpg" aria-hidden="true">
        <source src="https://videos.ctfassets.net/4fo2kk5ozptr/7Jl82fYed6L58hgTF2kzZE/308689c8d1d5f282101568ab02977624/WebsiteBackgroundFiller_crop.mp4" type="video/mp4">
      </video>

      <div class="hero-overlay container">
        <div class="hero-content">
          <p class="eyebrow">Watch</p>
          <h1>Experience the <span class="brand"><span class="brand-mark">TED<span class="sup">x</span></span><span class="brand-tail">KI</span></span> talks</h1>
          <p class="lead">Browse every <span class="brand"><span class="brand-mark">TED<span class="sup">x</span></span><span class="brand-tail">KI</span></span> talk. Search, filter by year, or let chance pick your next idea worth spreading.</p>
          <div class="hero-actions">
            <button class="btn primary" id="surprise-btn" type="button">Get surprised by a TEDxKI talk</button>
            <div class="hero-meta">
              <span id="talk-count" class="pill">Loading talks…</span>
              <span class="hero-dot" aria-hidden="true"></span>
              <span class="muted" id="year-range"></span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="container watch-panel">
      <div class="panel">
        <div class="panel-left">
          <div class="search-field">
            <label for="talk-search">Search talks</label>
            <input type="search" id="talk-search" name="talk-search" placeholder="Search by title or theme" autocomplete="off" />
          </div>
        </div>
        <div class="panel-right">
          <div class="filter-group">
            <label for="year-filter">Filter by year</label>
            <div class="filter-inline">
              <select id="year-filter" aria-label="Filter by year">
                <option value="all">All years</option>
              </select>
              <button class="btn" id="reset-filters" type="button">Reset</button>
            </div>
          </div>
          <div class="panel-meta">
            <span id="result-count" class="result-count">0 talks</span>
            <div class="yt-hint">
              <span class="pill">YouTube (no-cookie)</span>
              <p class="hint-text">Playback opens a YouTube player. Please accept the data notice first.</p>
              <button class="text-link" id="open-consent" type="button">Review notice</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="container watch-grid-wrap">
      <div id="video-grid" class="video-grid">
        <!-- Cards are prerendered by the build step -->
      </div>
      <div id="empty-state" class="empty-state" hidden>
        <h3>No talks match your filters</h3>
        <p>Try a different year or reset the search to explore all TEDxKI talks.</p>
        <button class="btn primary" id="clear-empty" type="button">Reset filters</button>
      </div>
    </section>

    <div id="video-modal" class="video-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modal-title">
      <div class="modal-backdrop" tabindex="-1"></div>
      <div class="modal-panel" role="document">
        <header class="modal-header">
          <div class="modal-header-meta">
            <span class="pill">YouTube (no-cookie)</span>
            <p id="player-sub" class="player-sub"></p>
          </div>
          <button id="modal-close" class="modal-close" aria-label="Close">&times;</button>
        </header>
        <div class="modal-body">
          <div id="player-wrap" class="player-wrap" aria-live="polite"></div>
          <div class="player-meta">
            <h2 id="modal-title" class="modal-title">TEDxKI talk</h2>
          </div>
        </div>
      </div>
    </div>

    <div id="consent-modal" class="video-modal consent-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="consent-title">
      <div class="modal-backdrop" tabindex="-1"></div>
      <div class="modal-panel" role="document">
        <header class="modal-header">
          <div>
            <p class="pill">Data notice</p>
            <h2 id="consent-title" class="modal-title">Watch via YouTube</h2>
          </div>
          <button id="consent-close" class="modal-close" aria-label="Close">&times;</button>
        </header>
        <div class="modal-body consent-copy">
          <p>Our talks are hosted on YouTube. Playing a video may let YouTube/Google process data outside TEDxKI's control. We use the privacy-enhanced <strong>youtube-nocookie.com</strong> embed.</p>
          <ul>
            <li>Playback loads the YouTube player from youtube-nocookie.com.</li>
            <li>YouTube/Google may set cookies or gather usage data.</li>
            <li>TEDxKI does not track these views.</li>
          </ul>
          <div class="modal-actions">
            <button class="btn primary" id="consent-accept" type="button">Accept and play</button>
            <button class="btn" id="consent-decline" type="button">Maybe later</button>
          </div>
        </div>
      </div>
    </div>

  </main>

  <site-footer></site-footer>


</body>
</html>
